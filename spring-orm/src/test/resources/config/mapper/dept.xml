<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//ibatis.apache.org//DTD Mapper 3.0//EN"
        "http://ibatis.apache.org/dtd/ibatis-3-mapper.dtd">
<mapper namespace="mybatis.dao.IDeptDAO">

    <select id="getDeptDO" resultType="mybatis.dao.domain.DeptDO">
        SELECT
            id,
            deptno,
            dname,
            loc
        FROM dept
        WHERE id = #{id}
    </select>

    <select id="listDept" resultType="mybatis.dao.domain.DeptDO" >
        SELECT id,
        deptno,
        dname,
        loc FROM dept
        WHERE
        <if test="deptQuery.ids.size == 1">
            1 = 1
        </if>
        <if test="deptQuery.ids.size == 2">
            1 = 2
        </if>

    </select>
    <select id="listDept2" resultType="mybatis.dao.domain.DeptDO" >
        SELECT id,
        deptno,
        dname,
        loc FROM dept
        WHERE
        1 = 1
        <if test="ids != null and ids.size == 1">
            and 1 = 1
        </if>
        <if test="ids !=null and ids.size == 2">
            and 1 = 2
        </if>

    </select>

    <select id="listDept3" resultType="mybatis.dao.domain.DeptDO" >
        SELECT id,
        deptno,
        dname,
        loc FROM dept
        WHERE
        1 = 1
        <if test="map.ids != null and map.ids.size == 1">
            <foreach collection="map.ids" separator="" item="id" close="" index="i" open="" >
                <choose>
                    <when test="id == 1" >
                        AND 1 = 1
                    </when>
                    <when test="id == 2" >
                        and 1 = 2
                    </when>
                </choose>
            </foreach>
        </if>
        <if test="map.ids !=null and map.ids.size == 2">
            and 1 = 2
        </if>

    </select>


</mapper>